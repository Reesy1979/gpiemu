~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	DingooSMD v1.2 for Native OS by lion_rsm
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



Что это?
~~~~~~~~
DingooSMD - это эмулятор 16-битной игровой консоли Sega Mega Drive / Genesis (далее просто SMD) для портативной игровой консоли Dingoo A320 (SIM-версия для Native OS). DingooSMD является частью пакета эмуляторов "Dingoo Emulation Pack by lion_rsm".



Чем этот эмулятор лучше аналогов?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
На данный момент под Dingoo Native OS существует только стандартный эмулятор SMD - MD.SIM. Эмулятор DingooNES обладает рядом преимуществ перед своим аналогом:
	- унифицированный пользовательский интерфейс с удобным и интуитивно понятным управлением;
	- высокая скорость эмуляции, неплохая совместимость с играми;
	- настройка скорости/сивместимости эмуляции в широких пределах;
	- функция быстрой перемотки эмуляции вперед (Fast forward);
	- загрузка сжатых ROM файлов игр, а так же функция автоматического сжатия ROM файлов;
	- полноэкранное аппаратное масштабирования с использованием IPU;
	- возможность выбора страны/региона перед запуском игры;
	- поддержка игр в телевизионных стандартах NTSC и PAL;
	- поддержка трех/шести кнопочного джойстика;
	- поддержка игр для Sega CD;
	- поддержка Game Genie чит-кодов;
	- поддержка обложек игровых картриджей.



Установка эмулятора
~~~~~~~~~~~~~~~~~~~
Распакуйте zip архив на компьютер в любую папку. В папке окажутся несколько файлов, среди которых будут:

	DingooSMD.sim	- собственно, сам эмулятор;
	README			- данное руководство;

Файл DingooSMD.sim скопируйте в папку GAME вашей игровой консоли Dingoo A320, предварительно удалив оттуда старый эмулятор MD.SIM. Если в папке GAME присутствует конфигурационный файл DingooSMD.cfg от предыдущей версии эмулятора, то его так же необходимо удалить. 

Добавьте в Dingoo игры для SMD (Sega Mega Drive) в формате .smd, .gen или .bin если таковые отсутствуют.



Использование эмулятора
~~~~~~~~~~~~~~~~~~~~~~~
Выберите пункт "Interesting game" в меню "Game center" на вашей Dingoo. В браузере файлов отыщите свою папку с играми SMD, выберите интересующую игру и нажмите кнопку "A". Запустится эмулятор DingooSMD, который загрузит и запустит на выполнение выбранную вами игру. Для входа в меню эмулятора нажмите одновременно "Start" и "Select" или кнопку "Power".



Поддержка сжатых ROM файлов
~~~~~~~~~~~~~~~~~~~~~~~~~~~
Эмулятор DingooSMD поддерживает загрузку ROM файлов, сжатых по алгоритму ZIP. Для создания сжатого ROM файла необходимо соответствующий файл .smd, .gen или .bin упаковать при помощи подходящего архиватора в .zip. Полученный .zip необходимо переименовать обратно в .smd, .gen или .bin и закинуть в Dingoo. При открытии файла игры эмулятор автоматически распознает сжатие и производит распаковку. 

Так же эмулятор способен самостоятельно сжимать ROM файлы. Если данная функция активна и загруженная игра не была сжата ранее, эмулятор при выходе предложит сжать ROM файл данной игры. Используйте возможность сжатия SMD ROM файлов для экономии памяти Dingoo!



Поддержка игр для Sega CD
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Эмулятор DingooSMD поддерживает игры для Sega CD. Для их запуска вам потребуются BIOS файлы, соответствующие разным регионам, которые можно найти в интернете:

	US: us_scd1_9210.bin us_scd2_9306.bin SegaCDBIOS9303.bin
	EU: eu_mcd1_9210.bin eu_mcd2_9303.bin eu_mcd2_9306.bin
	JP: jp_mcd1_9112.bin jp_mcd1_9111.bin

Файлы us_scd1_9210.bin, eu_mcd1_9210.bin и jp_mcd1_9112.bin поставляются вместе с эмулятором. Их нужно скопировать на Dingoo A320 в ту же папку, где находится DingooSMD.sim.

Игра для Sega CD, как правило, представляет из себя файл с данными .iso + несколько звуковых файлов в формате .wav или .mp3. Если вам необходимо воспроизведение CD аудиотреков, вы должны использовать игру в формате ISO + MP3 файлы. Файлы игры могут быть проименованы в соответствии с принятыми для других эмуляторов стандартами, например:

	SonicCD.iso
	SonicCD_02.mp3
	SonicCD_03.mp3
	...

	Sonic the Hedgehog CD (US) - Track 01.iso
	Sonic the Hedgehog CD (US) - Track 02.mp3
	Sonic the Hedgehog CD (US) - Track 03.mp3
	...

Следует иметь ввиду, что подгрузка данных в играх Sega CD иногда занимает продолжительное время. Может показаться, что игра зависла, но это не так, попробуйте дождаться загрузки. Эмуляция Sega CD в DingooSMD далека от совершенства, поэтому во многих играх могут наблюдаться различные проблемы, в основном с графикой. Но несморя на это, некоторые игры все еще остаются играбельными.



Поддержка Game Ganie чит-кодов
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
В эмуляторе DingooSMD можно использовать чит-коды Game Genie для получения неуязвимости, бесконечных жизней, необходимого оружия и так далее. Для активации этой функции в папку с игрой необходимо добавить специальный файл, в котором описан набор чит-кодов. Файл должен иметь такое же имя, как у файла игры и расширение .cht. Во время загрузки игры автоматически загружается и файл с Game Genie чит-кодами, при этом, если все прошло успешно, в основном меню эмулятора становится доступным пункт "Cheating".

Подготовка чит-файла: сначала необходимо найти в интернете список Game Genie чит-кодов для интересующей игры, например, здесь - http://www.gamegenie.com/cheats/gamegenie/genesis/index.html. Список читов, к примеру, для игры "Comix Zone" может иметь такой вид:

HVDV-7AAT + AFDV-6AAW Start on Episode 1, Section 2
HVDV-7AAT + AKDV-6AAW Start on Episode 2, Section 1
HVDV-7AAT + APDV-6AAW Start on Episode 2, Section 2
HVDV-7AAT + AVDV-6AAW Start on Episode 3, Section 1
HVDV-7AAT + AZDV-6AAW Start on Episode 3, Section 2
AJDV-4A4L No damage from attacking solid objects
AJCV-4A56 No damage from enemies, explosions, hazards, etc.
963B-4JAC Ice Tea fully heals player
JBDV-6CB2 Start with 1/4 health
TBDV-6EB2 Start with 1/2 health
2BDV-6GB2 Start with 3/4 health

Далее необходимо любым доступным способом создать чит-файл (обычный текстовый файл) и наполнить его Game Genie чит-кодами в специальном формате. Далее пример такого файла для все той же игры "Comix Zone":

;Start on Episode 1, Section 2
HVDV-7AAT
AFDV-6AAW

;Start on Episode 2, Section 1
HVDV-7AAT
AKDV-6AAW

;Start on Episode 2, Section 2
HVDV-7AAT
APDV-6AAW

;Start on Episode 3, Section 1
HVDV-7AAT
AVDV-6AAW

;Start on Episode 3, Section 2
HVDV-7AAT
AZDV-6AAW

;No damage from attacking solid objects
AJDV-4A4L

;No damage from enemies, explosions, hazards, etc.
AJCV-4A56

;Ice Tea fully heals player
963B-4JAC

;Start with 1/4 health
JBDV-6CB2

;Start with 1/2 health
TBDV-6EB2

;Start with 3/4 health
2BDV-6GB2

С точки с запятой начинается название чита, далее с новой строки идет запись самого кода. Обратите внимание, что некоторые читы могут состоять из нескольких кодов, записанных последовательно друг за другом каждый на новой строке. Следует иметь ввиду, что имена читов могут содержать буквы только латинского алфавита. В пакете поставки эмулятора можно найти примеры чит-файлов для некоторых игр.



Поддержка обложек картриджей
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
DingooSMD умеет загружать файлы обложек картриджей. Обложка отображается во всех меню эмулятора, кроме основного меню. Файл обложки представляет собой изображение в формате PNG 24-bit с размерами 136-146 х 200 px для портретной ориентации и 200 х 136-146 px для альбомной ориентации. Файл с изображением обложки должен иметь такое же имя, как и файл игры, для которой создана обложка. Примеры обложек для некоторых игр можно найти в пакете поставки эмулятора.



Основное меню эмулятора
~~~~~~~~~~~~~~~~~~~~~~~
Resume
	Выход из меню и возврат в игру. Так же в игру можно вернуться по нажатию клавиши "B".
	
Save state
	Сохранение текущего игрового состояния в файл. Файл состояния сохраняется в той же папке, где расположена игра. Имя файла состоит из названия игры и расширения от .sv0 до .sv9. Клавишами "Left" и "Right" можно выбрать логический слот, в который будет сохраняться состояние, клавишей "A" производится сохранение. Всего доступно 10 слотов. В окошке справа отображается скриншот игрового состояния, сохраненного в выбранном слоте.
	
Load state
	Загрузка игрового состояния из файла. Файл должен располагаться в той же папке, что и игра, название должно совпадать с названием игры а расширение должно быть от .sv0 до .sv9. Клавишами "Left" и "Right" необходимо выбрать слот с нужным игровым состоянием и по клавише "A" загрузить его. После загрузки игрового состояния эмулятор автоматически вернется в игру. Находясь на пункте "Load state" или "Save state", по нажатию на клавишу "X" можно удалить игровое состояние из выбраного слота, при этом, после подтверждения ваших намерений, удаляется соответствующий файл игрового состояния.

Cheating
	Опция активизируется после удачной загрузки файла с Game Genie чит-кодами для текущей игры. После выбора данной опции открывается меню со списком доступных Game Genie читов. Каждый чит в любое время можно включить или выключить клавишами "Left" и "Right". По нажатию клавиши "A" можно посмотреть полное имя чита. Часто бывает так, что тот или иной чит начинает действовать только после сброса игры.
	
Skip frames
	Данная опция указывает на то, сколько проэмулированных кадров будет опущено до момента отрисовки на экран. Опция позволяет повысить скорость эмуляции за счет потери в плавности изображения. Значение "0" означает, что на экран отрисовываются все проэмулированные кадры. Значение "AUTO" означает, что эмулятор самостоятельно решает какие кадры и когда будут опущены для достижения 100% скорости эмуляции игры. Клавишами "Left" и "Right" можно выбрать необходимое значение, по нажатию клавиши "A" будет выбрано значение "AUTO". Если быстродействия эмулятора не достаточно, рекомендуется выставить эту опцию в "AUTO".
	
Full screen
	Опция позволяет настроить вывод изображения либо растянутым на всю площадь экрана Dingoo, либо на вывод в родном разрешении по центру экрана с обрамляющими черными полями. При недостаточной скорости эмуляции рекомендуется выставить опцию в "OFF", т.к. отрисовка в родном разрешении не требует масштабирования и работает быстрее.
	
Sound volume
	Данная опция позволяет задать громкость звука либо отключить звук вовсе. Клавишами "Left" и "Right" можно выбрать необходимое значение, по нажатию клавиши "A" будет выбрано значение "OFF". Если скорость эмуляции недостаточна, попробуйте выставить значение опции в "OFF".
	
Advanced sets
	Меню с набором дополнительных опций.
	
Reset
	Сброс игры в начальное состояние. В последующем диалоговом экране необходимо подтвердить свои действия.
	
Exit
	Выход из DingooSMD и возврат в меню Dingoo.



Дополнительное меню эмулятора
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Video settings -> Fullscreen scaling
	Данная опция позволяет задать алгоритм масштабирования изображения при выводе на экран. Значение "HARDWARE" говорит о том, что используется аппаратный блок IPU, выполняющий билинейное масштабирование изображения. Опция актуальна если "Full screen" выставлено в "ON".

Video settings -> Vertical stretch
	Данная опция позволяет включить масштабирование изображения по вертикали, позволяя растянуть стандартный кадр SMD 320x224 или 256x224 до 240 точек по вертикали, покрывая всю площадь дисплея Dingoo. При отключенном масштабировании по вертикали, в конечном изображении могут присутствовать пустые черные поля, но при этом изображение в целом получается более четким. Опция актуальна если "Full screen" выставлено в "ON" и изображение выводтся на LCD экран Dingoo.
	
Video settings -> Rendering mode
	Опция позволяет выбирать между быстрым, аккуратным или наилучшим режимом рендеринга изображения во время эмуляции. Для большинства игр можно использовать режим "ACCURATE". Некоторые игры без особых проблем работают в режиме "FAST", достигая высокой скорости эмуляции. Но если вы даже в режиме "ACCURATE" наблюдаете в изображении "глюки" и явное несоответствие оригиналу игры, попробуйте выставить значение опции в "BEST".
	
Sound settings -> Sample rate
	Опция позволяет задать частоту дискретизации для звукового потока, генерируемого эмулятором. Чем ниже значение, тем выше скорость эмуляции но хуже качество звука.
	
Sound settings -> Output mode
	Режим вывода звука моно или стерео. Если вы подключаете Dingoo к телевизору с моно входом для звука, имеет смысл выставить эту опцию в значение "Mono".
	
Input settings
	Данное меню позволяет задать соответствие реальных клавиш Dingoo клавишам виртуального геймпада SMD. Можно переопределить только часть клавиш, в переопределении которых есть смысл.

Input settings -> Diagonals helper
	Конструкция крестовины Dingoo весьма неудачна, нажимать ее по диагонали очень трудно, при этом точность срабатывания оставляет желять лучшего. Данная опция активирует функцию, призванную улучшить срабатывание диагональных комбинаций клавиш.

Input settings -> Six button gamepad
	Данная опция задает конфигурацию джойстика SMD. При значении "ON", игра видит джойстик как шестикнопочный.

Other settings -> Accurate timing
	Данная опция повышает точность таймингов эмуляции компонентов консоли, но в то же время снижает скорость эмуляции. Без активации данной опции некоторые игры не способны запустится или имеют ряд проблем с графикой или звуком. Для большинства игр данную опцию можно держать в значении "OFF".

Other settings -> Emulate Z80 CPU
	Данная опция включает эмуляцию процессора Z80, который, в основном, используется для управления звуковыми чипами. Некоторые игры, выполняют сложную синхронизацию с данным процессором, поэтому рекомендуется держать эту опцию в значении "ON". Если же вы не заинтересованы в правильной эмуляции звука, можете выставить опцию в "OFF".

Other settings -> CDDA audio playback
	Опция активна только для Sega CD игр. Она включает функцию воспроизведения аудиотреков Sega CD игры. Если скорость эмуляции недостаточна, можно выставить данную опцию в значение "OFF".
	
CPU speed, MHz
	Данная опция позволяет задать частоту работы центрального процессора Dingoo во время эмуляции игры SMD. Нормальное значение частоты работы процессора - 336 MHz. При входе в меню эмулятор автоматически понижает частоту до 336 MHz. Чем выше значение данной опции, тем выше скорость эмуляции, тем быстрее разряжается батарея вашей Dingoo. Клавишами "Left" и "Right" можно выбрать необходимое значение из предопределенного списка, по нажатию клавиши "A" значение опции будет увеличиваться на единицу. Однако, как выяснилось, есть целый ряд частот, которые не приводят к какому-либо разгону процессора, поэтому рекомендуется использовать частоты из предопределенного списка. Значения выше 400 MHz вы выставляете на свой страх и риск, автор эмулятора не несет ответственности за последствия, вызванные вашей манипуляцией с частотой процессора!
	
Show FPS mode
	FPS (Frames Per Second) - это количество кадров, которое эмулятор успевает отрисовать на экран или проэмулировать (в зависимости от режима подсчета) за одну секунду. При значении опции "OFF" вывод счетчика FPS на экран отключен. При значении "RENDERED" на экран выводится количество отрисованных кадров, при значении "EMULATED" - количество виртуальных проэмулированных кадров. По данному значению удобно судить об общей скорости эмуляции. Чем выше значение на экране, тем лучше. Номинальное значение FPS для NTSC игр ~ 60, для PAL ~ 50 в режиме подсчета "EMULATED". Если вы не понимаете назначения этой опции, то ее лучше держать в выключеном состоянии.
	
Save global settings
	Запись настроек эмулятора в файл "DingooSMD.cfg" в папку, где расположен сам эмулятор (как правило, это папка "GAME"). Если файл "DingooSMD.cfg" присутствует, он загружается и применяется при запуске эмулятора.
	
Save game settings
	Запись настроек эмулятора в файл с именем текущей загруженной игры и расширением .cfg, в папку с игрой. Данный файл конфигурации имеет более высокий приоритет, чем "DingooSMD.cfg" и если он присутствует для загружаемой игры, он загружается и применяется вместо "DingooSMD.cfg". Данный механизм позволяет иметь особые настройки эмулятора для конкретной игры.
	
About emulator
	Краткая информация по эмулятору, автору и горячих клавишах управления.



Дополнительное меню специальных настроек при запуске эмулятора
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Часть редко изменяемых настроек, а так же настроек, которые должны применяться перед загрузкой ROM файла игры, вынесена в дополнительное меню специальных настроек эмулятора. Попасть в это меню можно путем удерживания клавиши "Select" во время запуска эмулятора. Для сохранения измененных настроек необходимо войти в основное меню эмулятора, перейти в "Advanced sets" и активировать "Save global settings" или "Save game settings".

Country/Region
	Данная опция позволяет задать аппаратную конфигурацию консоли в зависимости от выбранной страны/региона. Загружаемая игра может вести себя на различной аппаратной конфигурации по-разному, например, иметь разные разрешение/частоту кадров, разные тайминги аппаратных компонентов, специфическую локализацию текстов/титульных экранов, аппаратную привязку к региону и тому подобное. Значения опции и отличия в аппаратной конфигурации:

		AUTO - автоматический выбор региона на основе некоторых характеристик ROM файла
		US   - американский регион - видеостандарт - NTSC
		EU   - европейский регион  - видеостандарт - PAL
		JP   - азиатский регион    - видеостандарт - NTSC

Auto compress ROM
	Данная опция позволяет включить функцию автоматического сжатия ROM файла текущей загруженной игры при выходе из эмулятора. Если вы не хотите сжимать ROM файлы ваших SMD игр, то выставите данную опцию в "OFF".

Old school mode
	Если вы ощущаете себя матёрым волком старой игровой школы, можете выставить данную опцию в "ON" :)

Default setings
	Сброс настроек эмулятора в значения, заданные по умолчанию. Впоследствии сброшенные в начальное состояние настройки можно сохранить при помощи "Save global settings" или "Save game settings" из меню "Advanced sets".

Continue
	Выход из данного дополнительного меню с последующей загрузкой ROM файла игры и переходом DingooSMD в режим эмуляции.



Комбинации горячих клавиш в игре
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
В любой момент игры по комбинации клавиш "Start"+"Select" или "Power" вы можете войти в основное меню эмулятора. Так же во время игры можно быстро сохранить в оперативной памяти текущее игровое состояние, нажав комбинацию клавиш "R"+"Select". Загрузить состояние из памяти можно по нажатии "L"+"Start". Комбинации клавиш "L"+"R"+"Up" и "L"+"R"+"Down" позволяют увеличить или уменьшить громкость звука. "L"+"R"+"Left" переключает значение пункта настроек "Video settings -> Rendering mode". Удерживание комбинации клавиш "L"+"R"+"Right" переводит эмулятор в режим "Fast forward", позволяя ускоренно перематывать геймплей вперед. 



Работа эмулятора при подключении Dingoo к телевизору
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Если эмулятор запускается на Dingoo, подключенной к телевизору, опции "Full screen", "Vertical stretch" и "CPU speed, MHz" блокируются. При этом опция "Full screen" выставляется в значение "ON", "Vertical stretch" выставляется в "OFF", а "CPU speed, MHz" - в "336". Значение последнего параметра вызвано тем, что видеовывод Dingoo на телевизор корректно работает только на частоте процессора 336 MHz.



Об авторе
~~~~~~~~~
DingooSMD создан усилиями lion_rsm в 2011-2012 годах. Свои замечания, предложения и багрепорты можете оставлять на сайте http://a320.emulate.su.


История изменений
~~~~~~~~~~~~~~~~~
v1.2 - 09.10.2012
	Добавлена поддержка воспроизведения аудио дорожек Sega CD (в формате mp3), добавлен пункт настроек "CDDA audio playback".
	Добавлена поддержка Game Genie чит-кодов, добавлен в главное меню пункт "Cheating".
	Незначительные изменения и улучшения в GUI.
	Добавлена поддержка отображения обложек игровых картриджей.
	Незначительные изменения и улучшения в коде.

v1.1 - 14.09.2012
	Исправлен баг со звуком при запуске эмулятора с выключенным звуком и последующим включением звука в меню.
	Добавлена поддержка SVP чипа (для игры Virtua Racing), немного улучшена скорость эмуляции.
	Добавлена частичная поддержка игр Sega CD (пока без проигрывания аудио треков).
	Теперь опция "Auto compress ROM" по умолчанию выключена.

v1.0 - 09.05.2012
	Первый публичный релиз.


